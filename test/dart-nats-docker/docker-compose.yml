version: "3.5"
services:
  nats:
    image: nats
    ports:
      - "4222:4222"
      - "8080:8080"
    volumes:
      - ./config:/config
    command: "-V -D -c /config/websocket.cfg"

  nats-jwt:
    image: nats
    ports:
      - "4223:4222"
      - "8083:8080"
    volumes:
      - ./config:/config
    command: "-V -D -c /config/mem_resolver.cfg"

  nats-token:
    image: nats
    ports:
      - "4224:4222"
      - "8084:8080"
    volumes:
      - ./config:/config
    command: "-V -D -c /config/websocket.cfg --auth mytoken"

  nats-user:
    image: nats
    ports:
      - "4225:4222"
      - "8085:8080"
    volumes:
      - ./config:/config
    command: "-V -D -c /config/websocket.cfg --user foo --pass bar"


