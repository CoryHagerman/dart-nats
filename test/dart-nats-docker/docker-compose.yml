version: "3.5"
services:
  nats:
    image: nats
    ports:
      - "4222:4222"
      - "8080:8080"
    volumes:
      - ./config:/config
    command: "-V -D -c /config/websocket.cfg"

  nats-token:
    image: nats
    ports:
      - "4221:4222"
      - "8081:8080"
    volumes:
      - ./config:/config
    command: "-V -D -c /config/websocket.cfg --auth mytoken"

  nats-user:
    image: nats
    ports:
      - "4220:4222"
      - "8082:8080"
    volumes:
      - ./config:/config
    command: "-V -D -c /config/websocket.cfg --user foo --pass bar"

  nats-jwt:
    image: nats
    ports:
      - "4223:4222"
      - "8083:8080"
    volumes:
      - ./config:/config
    command: "-V -D -c /config/mem_resolver.cfg"


